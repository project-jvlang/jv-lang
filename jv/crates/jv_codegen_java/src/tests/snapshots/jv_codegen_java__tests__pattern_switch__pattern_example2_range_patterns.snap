---
source: crates/jv_codegen_java/src/tests/pattern_switch.rs
assertion_line: 25
expression: combined
---
// ---- Java 25 ----
package patterns;

public class Example2 {
    public static String categorize(int score) {
        return // strategy=Switch arms=4 guards=3 default=true exhaustive=false
        new Object() {
            String matchExpr() {
                final var __subject = score;
                final String __matchResult;
                boolean __matched = false;
                if (!__matched) {
                    // range: 0..60
                    final var it0 = __subject;
                    if (score >= 0 && score < 60) {
                        __matchResult = "Fail";
                        __matched = true;
                    }
                }
                if (!__matched) {
                    // range: 60..80
                    final var it0 = __subject;
                    if (score >= 60 && score < 80) {
                        __matchResult = "Pass";
                        __matched = true;
                    }
                }
                if (!__matched) {
                    // range: 80..=100
                    final var it0 = __subject;
                    if (score >= 80 && score <= 100) {
                        __matchResult = "Excellent";
                        __matched = true;
                    }
                }
                if (!__matched) {
                    __matchResult = "Invalid";
                    __matched = true;
                }
                return __matchResult;
            }
        }.matchExpr()
        ;
    }
    
}

// ---- Java 21 ----
package patterns;

public class Example2 {
    public static String categorize(int score) {
        return // strategy=Switch arms=4 guards=3 default=true exhaustive=false
        new Object() {
            String matchExpr() {
                final var __subject = score;
                final String __matchResult;
                boolean __matched = false;
                if (!__matched) {
                    // range: 0..60
                    final var it0 = __subject;
                    if (score >= 0 && score < 60) {
                        __matchResult = "Fail";
                        __matched = true;
                    }
                }
                if (!__matched) {
                    // range: 60..80
                    final var it0 = __subject;
                    if (score >= 60 && score < 80) {
                        __matchResult = "Pass";
                        __matched = true;
                    }
                }
                if (!__matched) {
                    // range: 80..=100
                    final var it0 = __subject;
                    if (score >= 80 && score <= 100) {
                        __matchResult = "Excellent";
                        __matched = true;
                    }
                }
                if (!__matched) {
                    __matchResult = "Invalid";
                    __matched = true;
                }
                return __matchResult;
            }
        }.matchExpr()
        ;
    }
    
}
